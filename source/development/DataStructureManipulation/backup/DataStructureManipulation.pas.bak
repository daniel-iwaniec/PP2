program DataStructureManipulation;

{$mode objfpc}{$H+}

uses Classes;

type
    Wsk =^Element;
    Element = record
        data: integer;
        previous: Wsk;
        next: Wsk;
    end;

    ListMeta = record
        head: Wsk;
        tail: Wsk;
        count: integer;
    end;

var EnemyListMeta : ListMeta;

procedure New_worm(var EnemyListMeta : ListMeta);
var Q:Wsk;
begin
New(Q);
Q^.data:= 5;

Q^.next := NIL;
Q^.previous := EnemyListMeta.tail;
EnemyListMeta.tail := Q;

if (EnemyListMeta.head = NIL) then begin
    EnemyListMeta.head := Q;
end;

EnemyListMeta.count = EnemyListMeta.count++;
end;

begin
EnemyListMeta.head = NIl;
EnemyListMeta.tail = NIL;
EnemyListMeta.count = 0;

New_worm(EnemyListMeta);
New_worm(EnemyListMeta);
New_worm(EnemyListMeta);

writeln(EnemyListMeta.count); {3}
writeln(EnemyListMeta.head^.data); {5}

ReadKey;
end.






